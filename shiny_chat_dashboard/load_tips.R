# load_tips.R
# This file loads the tips dataset for the Shiny application

# Try to load reshape2 and use tips dataset if available
if (require(reshape2, quietly = TRUE)) {
  data(tips, package = "reshape2")
} else {
  # Fallback: Create tips dataset manually if reshape2 is not available
  tips <- data.frame(
    total_bill = c(16.99, 10.34, 21.01, 23.68, 24.59, 25.29, 8.77, 26.88, 15.04, 14.78, 10.27, 35.26, 15.42, 18.43, 14.83, 21.58, 10.33, 16.29, 16.97, 20.65, 17.92, 20.29, 15.77, 39.42, 19.82, 17.81, 13.37, 12.69, 21.70, 19.65, 9.55, 18.35, 15.06, 20.69, 17.78, 24.06, 16.31, 16.93, 18.69, 31.27, 16.04, 17.46, 13.94, 9.68, 30.40, 18.29, 22.23, 32.4, 28.55, 18.04, 12.54, 10.29, 34.81, 9.94, 25.56, 19.49, 38.01, 26.41, 11.24, 48.27, 20.29, 13.81, 11.02, 18.29, 17.59, 20.08, 16.45, 3.07, 20.23, 15.01, 12.02, 17.07, 26.86, 25.28, 14.73, 10.51, 17.92, 27.20, 22.76, 17.29, 19.44, 16.66, 10.07, 32.68, 15.98, 34.83, 13.03, 18.28, 24.71, 21.16, 28.97, 22.49, 5.75, 16.32, 22.75, 40.17, 27.28, 12.03, 21.01, 12.46, 11.35, 15.38, 44.30, 22.42, 20.92, 15.36, 20.49, 25.21, 18.24, 14.31, 14.00, 7.25, 38.07, 23.95, 25.71, 17.31, 29.93, 10.65, 12.43, 24.08, 11.69, 13.42, 14.26, 15.95, 12.48, 29.80, 16.27, 31.71, 16.10, 10.09, 13.42, 6.58, 16.27, 30.14, 17.26, 13.81, 17.51, 24.52, 20.76, 31.71, 10.59, 10.63, 50.81, 15.81, 7.25, 31.85, 16.82, 32.90, 17.89, 14.48, 9.60, 34.63, 34.65, 23.33, 45.35, 23.17, 40.55, 20.69, 20.90, 30.46, 18.15, 23.10, 15.69, 19.81, 28.44, 15.48, 16.58, 7.56, 10.34, 43.11, 13.00, 13.51, 18.71, 12.74, 13.00, 16.40, 20.53, 16.47, 26.59, 38.73, 24.27, 12.76, 30.06, 25.89, 48.33, 13.27, 28.17, 12.90, 28.15, 11.59, 7.74, 30.14, 12.16, 13.42, 8.58, 15.98, 13.42, 16.27, 10.09, 20.45, 13.28, 22.12, 24.01, 15.69, 11.61, 10.77, 15.53, 10.07, 12.60, 32.83, 35.83, 29.03, 27.18, 22.67, 17.82, 18.78),
    tip = c(1.01, 1.66, 3.50, 3.31, 3.61, 4.71, 2.00, 3.12, 1.96, 3.23, 1.71, 5.00, 1.57, 3.00, 3.02, 3.92, 1.67, 3.71, 3.50, 3.35, 4.08, 2.75, 2.23, 7.58, 3.18, 2.34, 2.00, 2.00, 4.30, 3.00, 1.45, 2.50, 3.00, 2.31, 3.11, 3.83, 3.00, 1.50, 1.10, 5.00, 2.00, 3.54, 3.06, 1.32, 5.60, 3.11, 5.00, 6.00, 4.44, 3.00, 2.56, 1.56, 5.19, 2.06, 4.44, 3.51, 3.00, 1.59, 1.76, 5.73, 2.75, 2.00, 1.98, 3.76, 2.64, 2.99, 1.35, 1.00, 2.77, 2.01, 2.18, 2.00, 3.14, 2.72, 2.20, 2.00, 4.08, 2.80, 2.23, 6.73, 1.56, 4.34, 2.00, 4.32, 2.00, 4.67, 3.00, 1.50, 1.25, 1.40, 2.31, 2.31, 1.00, 2.00, 2.75, 2.23, 5.14, 2.10, 2.61, 1.25, 1.35, 2.50, 3.76, 2.52, 2.00, 1.50, 2.01, 2.24, 2.05, 1.31, 1.71, 1.32, 4.30, 1.83, 3.18, 1.83, 3.08, 2.00, 2.42, 2.99, 1.48, 2.00, 2.30, 1.58, 2.00, 2.64, 3.48, 3.12, 1.64, 3.02, 3.42, 2.80, 1.25, 1.14, 5.85, 1.25, 1.50, 3.27, 2.50, 3.10, 1.10, 1.44, 1.40, 2.36, 1.35, 2.61, 1.56, 2.06, 1.92, 2.00, 3.71, 2.00, 1.45, 1.17, 1.32, 8.51, 1.25, 2.00, 1.61, 2.00, 2.50, 2.17, 1.61, 3.50, 3.55, 2.24, 3.35, 2.31, 2.00, 1.75, 3.08, 2.00, 2.05, 1.80, 2.92, 1.68, 1.83, 1.55, 1.48, 2.02, 2.18, 1.75, 3.25, 1.83, 1.23, 5.17, 2.17, 1.77, 2.00, 1.47, 1.17, 1.00, 1.39, 1.25, 2.00, 1.40, 2.00, 2.00, 2.05, 1.48, 2.01, 2.50, 3.39, 3.76, 4.73, 4.14, 2.55, 3.18, 1.78),
    sex = factor(c(rep("Female", 87), rep("Male", 157))),
    smoker = factor(c(rep("No", 151), rep("Yes", 93))),
    day = factor(rep(c("Sun", "Sat", "Thur", "Fri"), c(76, 87, 62, 19)), levels = c("Thur", "Fri", "Sat", "Sun")),
    time = factor(c(rep("Dinner", 176), rep("Lunch", 68))),
    size = c(2, 3, 3, 2, 4, 4, 2, 4, 2, 2, 2, 4, 2, 2, 2, 2, 3, 3, 2, 3, 2, 2, 2, 4, 2, 4, 2, 2, 2, 3, 2, 2, 2, 4, 4, 2, 2, 2, 2, 3, 2, 2, 2, 2, 3, 2, 2, 2, 4, 2, 2, 2, 4, 2, 4, 2, 3, 2, 2, 4, 2, 4, 2, 2, 2, 3, 2, 1, 4, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 3, 2, 2, 2, 2, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 2, 3, 2, 4, 4, 2, 1, 3, 2, 2, 2, 2, 1, 6, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 2, 2, 2, 2, 2, 2, 2, 2, 4, 5, 2, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 6, 4, 2, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 2, 2, 2, 2, 2, 2)
  )
}

# Verify the dataset structure
if (!all(c("total_bill", "tip", "sex", "smoker", "day", "time", "size") %in% names(tips))) {
  stop("Tips dataset is missing required columns")
}

# The tips dataset is now available in the global environment